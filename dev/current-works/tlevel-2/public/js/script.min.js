"use strict";function _createForOfIteratorHelper2(e,t){var n,r,o,a,i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return r=!(n=!0),{s:function(){i=i.call(e)},n:function(){var e=i.next();return n=e.done,e},e:function(e){r=!0,o=e},f:function(){try{n||null==i.return||i.return()}finally{if(r)throw o}}};if(Array.isArray(e)||(i=_unsupportedIterableToArray2(e))||t&&e&&"number"==typeof e.length)return i&&(e=i),a=0,{s:t=function(){},n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray2(e,t){var n;if(e)return"string"==typeof e?_arrayLikeToArray2(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray2(e,t):void 0}function _arrayLikeToArray2(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _createForOfIteratorHelper(e,t){var n,r,o,a,i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return r=!(n=!0),{s:function(){i=i.call(e)},n:function(){var e=i.next();return n=e.done,e},e:function(e){r=!0,o=e},f:function(){try{n||null==i.return||i.return()}finally{if(r)throw o}}};if(Array.isArray(e)||(i=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length)return i&&(e=i),a=0,{s:t=function(){},n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var n;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}window.onload=function(){whyBtn.onclick=function(){why.classList.contains("open")?(why.classList.remove("open"),why.classList.add("close")):(why.classList.remove("close"),why.classList.add("open"))},$(function(){$('a[href^="#"]').on("click",function(e){e.preventDefault();e=$(this).attr("href"),e=$(e).offset().top;$("html, body").animate({scrollTop:e},1e3,"swing")})});var t=document.querySelectorAll(".modal-trigger");if(t)for(var e=function(e){var o=t[e];o.addEventListener("click",function(){for(var e=o,t=document.getElementById(e.dataset.target),n=(t.classList.remove("closed"),t.style.display="flex",t.classList.add("opened"),t.getElementsByClassName("modal-close")),r=0;r<n.length;r++)n[r].addEventListener("click",function(){a(t)})})},n=0;n<t.length;n++)e(n);function a(e){e.classList.remove("opened"),e.classList.add("closed"),setTimeout(function(){e.style.display="none"},300)}var r="#calcModal",o=300,i=document.querySelector(r),l=i.querySelector(".calc-modal-select"),s=i.querySelector(".calc-modal-callback"),r=i.querySelector(".callack-order"),c=i.querySelector(".do-call");l.style.animationDuration="".concat(.3,"s"),s.style.animationDuration="".concat(.3,"s"),r.addEventListener("click",function(){l.classList.remove("open"),l.classList.add("closed"),setTimeout(function(){l.style.display="none"},o),setTimeout(function(){s.style.display="block",s.classList.add("open")},600)});var u,d=_createForOfIteratorHelper2(i.querySelectorAll(".modal-close"));try{for(d.s();!(u=d.n()).done;){var p=u.value;p.addEventListener("click",function(){l.style.animationDuration="".concat(.3,"s"),s.style.animationDuration="".concat(.3,"s"),s.classList.remove("open"),s.classList.add("closed"),setTimeout(function(){l.style.display="",l.classList.remove("closed"),l.classList.add("open"),s.style.display="",s.classList.remove("closed")},o)}),console.log(p)}}catch(e){d.e(e)}finally{d.f()}c.addEventListener("click",function(){setTimeout(function(){a(i)},o)});for(var f=document.forms,v=function(e){var i=f[e],l=i.querySelector('[type="file"]'),s=i.querySelector(".form__file_selected");l&&l.addEventListener("change",function(){this.files.length<1?s.innerHTML="":1==this.files.length?s.innerHTML="Выбран файл:<br>".concat(this.files[0].name," "):s.innerHTML="Выбранно файлов: ".concat(this.files.length," ")}),i.addEventListener("submit",function(e){e=e,t="php/".concat(i.dataset.action);var t,a,n=i,r=document.createElement("div");r.className="submit-loader",n.querySelector(".loader-container").appendChild(r),e.preventDefault?e.preventDefault():e.returnValue=!1,(a=new XMLHttpRequest).open("POST",t,!0),a.onload=function(){var e=document.createElement("div"),t=document.createElement("div"),n=document.createElement("div");e.className="thanks",t.className="thanks__content",n.className="thanks__close",e.append(t,n),wrapper.append(e),n.onclick=function(){o()},i.querySelector(".submit-loader").remove(),200<=a.status&&a.status<400?(n=JSON.parse(this.response),console.log(n),"success"==n.result?t.innerHTML="<h3><span>Спасибо</span>Мы перезвоним Вам в ближайшее время!</h3>":"limitExceeded"==n.result?t.innerHTML="<h3><span>Ошибка.</span>Превышен максимальный размер прикрепляемых файлов (10мб).</h3>":t.innerHTML="<h3><span>Ошибка</span>Сообщение не отправлено</h3>"):alert("Ошибка сервера. Номер: "+a.status),e.classList.add("active"),i.reset(),l&&(s.innerHTML="");for(var r=0;r<i.elements.length;r++)i.elements[r].disabled=!1;function o(){e.classList.remove("active"),e.remove()}setTimeout(function(){o()},6500)},a.onerror=function(){alert("Ошибка отправки запроса")},a.send(new FormData(e.target))})},y=0;y<f.length;y++)v(y);new Swiper(".expert__slider",{loop:!0,slidesPerView:"auto",centeredSlides:!0,spaceBetween:35,speed:500,autoplay:{delay:5e3},navigation:{nextEl:".swiper-button-next.expert__button.expert__button_next",prevEl:".swiper-button-prev.expert__button.expert__button_prev"},pagination:{el:".expert__pagination",type:"fraction"},breakpoints:{576:{slidesPerView:3},768:{slidesPerView:5},992:{spaceBetween:0,centeredSlides:!1,slidesPerView:4}}}),new Swiper(".client__slider",{loop:!0,slidesPerView:2,speed:500,draggable:!0,spaceBetween:20,autoplay:{delay:5e3},navigation:{nextEl:".swiper-button-next.client__button.client__button_next",prevEl:".swiper-button-prev.client__button.client__button_prev"},breakpoints:{401:{slidesPerView:3},481:{slidesPerView:4},991:{slidesPerView:6}}});var m=void 0;function _(){var e=document.documentElement.clientWidth,t=document.querySelector(".adv-grid"),n=document.querySelectorAll(".adv-slide");if(e<576&&null==m)m=new Swiper(".adv__slider",{loop:!0,slidesPerView:1,speed:500,spaceBetween:20,centeredSlides:!0,navigation:{nextEl:".swiper-button-next.adv__button.adv__button_next",prevEl:".swiper-button-prev.adv__button.adv__button_prev"},breakpoints:{480:{slidesPerView:"auto"}}});else if(576<=e&&null!=m){m.destroy(),m=void 0,t.removeAttribute("style");for(var r=0;r<n.length;r++)n[r].removeAttribute("style")}}_();var b=void 0;function w(){var e=document.documentElement.clientWidth,t=document.querySelector(".awa__slider-inner"),n=document.querySelectorAll(".awa-slide");if(e<768&&null==b)b=new Swiper(".awa__slider",{loop:!0,slidesPerView:"auto",centeredSlides:!0,speed:500,spaceBetween:30,navigation:{nextEl:".swiper-button-next.awa__button.awa__button_next",prevEl:".swiper-button-prev.awa__button.awa__button_prev"},breakpoints:{480:{}}});else if(768<=e&&null!=b){b.destroy(),b=void 0,t.removeAttribute("style");for(var r=0;r<n.length;r++)n[r].removeAttribute("style")}}w();var h=void 0;function g(){var e=document.documentElement.clientWidth,t=document.querySelector(".rev__slider-inner"),n=document.querySelectorAll(".rev-slide");if(e<576&&null==h)h=new Swiper(".rev__slider",{slidesPerView:"auto",centeredSlides:!0,loop:!0,speed:500,draggable:!0,spaceBetween:20,autoplay:{delay:5e3},navigation:{nextEl:".swiper-button-next.rev__button.rev__button_next",prevEl:".swiper-button-prev.rev__button.rev__button_prev"}});else if(576<=e&&null!=h){h.destroy(),h=void 0,t.removeAttribute("style");for(var r=0;r<n.length;r++)n[r].removeAttribute("style")}}g(),window.onresize=function(){_(),w(),g()};var S,L=_createForOfIteratorHelper(document.forms);try{for(L.s();!(S=L.n()).done;)!function(){var e,t=S.value,n=t.querySelector('[name="userPhone"]');n&&(e=t.querySelector('[type="submit"]'),new Inputmask("+7 (\\999) 999-99-99").mask(n),n.oninput=function(){$(n).inputmask("isComplete")?e.removeAttribute("disabled"):e.disabled=!0})}()}catch(e){L.e(e)}finally{L.f()}};