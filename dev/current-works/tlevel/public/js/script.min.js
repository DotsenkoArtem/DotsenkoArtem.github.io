"use strict";function _createForOfIteratorHelper(e,t){var n,r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length)return r&&(e=r),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw o}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}window.onload=function(){whyBtn.onclick=function(){why.classList.contains("open")?(why.classList.remove("open"),why.classList.add("close")):(why.classList.remove("close"),why.classList.add("open"))},$(function(){$('a[href^="#"]').on("click",function(e){e.preventDefault();e=$(this).attr("href"),e=$(e).offset().top;$("html, body").animate({scrollTop:e},1e3,"swing")})});var t=document.querySelectorAll(".modal-trigger");if(t)for(var e=function(e){var o=t[e];o.addEventListener("click",function(){for(var e=o,t=document.getElementById(e.dataset.target),n=(t.classList.remove("closed"),t.classList.add("opened"),t.getElementsByClassName("modal-close")),r=0;r<n.length;r++)n[r].addEventListener("click",function(){var e;(e=t).classList.remove("opened"),e.classList.add("closed")})})},n=0;n<t.length;n++)e(n);for(var r=document.forms,o=function(e){var i=r[e],s=i.querySelector('[type="file"]'),l=i.querySelector(".form__file_selected");s&&s.addEventListener("change",function(){this.files.length<1?l.innerHTML="":1==this.files.length?l.innerHTML="Выбран файл:<br>".concat(this.files[0].name," "):l.innerHTML="Выбранно файлов: ".concat(this.files.length," ")}),i.addEventListener("submit",function(e){e=e,t="php/".concat(i.dataset.action);var t,a,n=i,r=document.createElement("div");r.className="submit-loader",n.querySelector(".loader-container").appendChild(r),e.preventDefault?e.preventDefault():e.returnValue=!1,(a=new XMLHttpRequest).open("POST",t,!0),a.onload=function(){var e=document.createElement("div"),t=document.createElement("div"),n=document.createElement("div");e.className="thanks",t.className="thanks__content",n.className="thanks__close",e.append(t,n),wrapper.append(e),n.onclick=function(){o()},removeLoader(i),200<=a.status&&a.status<400?"success"==(n=JSON.parse(this.response)).result?t.innerHTML="<h3><span>Спасибо</span>Мы перезвоним Вам в ближайшее время!</h3>":"limitExceeded"==n.result?t.innerHTML="<h3><span>Ошибка.</span>Превышен максимальный размер прикрепляемых файлов (10мб).</h3>":t.innerHTML="<h3><span>Ошибка</span>Сообщение не отправлено</h3>":alert("Ошибка сервера. Номер: "+a.status),e.classList.add("active"),i.reset(),s&&(l.innerHTML="");for(var r=0;r<i.elements.length;r++)i.elements[r].disabled=!1;function o(){e.classList.remove("active"),e.remove()}setTimeout(function(){o()},6500)},a.onerror=function(){alert("Ошибка отправки запроса")},a.send(new FormData(e.target))})},a=0;a<r.length;a++)o(a);new Swiper(".expert__slider",{loop:!0,slidesPerView:"auto",centeredSlides:!0,spaceBetween:35,speed:500,autoplay:{delay:5e3},navigation:{nextEl:".swiper-button-next.expert__button.expert__button_next",prevEl:".swiper-button-prev.expert__button.expert__button_prev"},pagination:{el:".expert__pagination",type:"fraction"},breakpoints:{576:{slidesPerView:3},768:{slidesPerView:5},992:{spaceBetween:0,centeredSlides:!1,slidesPerView:4}}}),new Swiper(".client__slider",{loop:!0,slidesPerView:2,speed:500,draggable:!0,spaceBetween:20,autoplay:{delay:5e3},navigation:{nextEl:".swiper-button-next.client__button.client__button_next",prevEl:".swiper-button-prev.client__button.client__button_prev"},breakpoints:{401:{slidesPerView:3},481:{slidesPerView:4},991:{slidesPerView:6}}});var i=void 0;function s(){var e=document.documentElement.clientWidth,t=document.querySelector(".adv-grid"),n=document.querySelectorAll(".adv-slide");if(e<576&&null==i)i=new Swiper(".adv__slider",{loop:!0,slidesPerView:1,speed:500,spaceBetween:20,centeredSlides:!0,navigation:{nextEl:".swiper-button-next.adv__button.adv__button_next",prevEl:".swiper-button-prev.adv__button.adv__button_prev"},breakpoints:{480:{slidesPerView:"auto"}}});else if(576<=e&&null!=i){i.destroy(),i=void 0,t.removeAttribute("style");for(var r=0;r<n.length;r++)n[r].removeAttribute("style")}}s();var l=void 0;function u(){var e=document.documentElement.clientWidth,t=document.querySelector(".awa__slider-inner"),n=document.querySelectorAll(".awa-slide");if(e<768&&null==l)l=new Swiper(".awa__slider",{loop:!0,slidesPerView:"auto",centeredSlides:!0,speed:500,spaceBetween:30,navigation:{nextEl:".swiper-button-next.awa__button.awa__button_next",prevEl:".swiper-button-prev.awa__button.awa__button_prev"},breakpoints:{480:{}}});else if(768<=e&&null!=l){l.destroy(),l=void 0,t.removeAttribute("style");for(var r=0;r<n.length;r++)n[r].removeAttribute("style")}}u(),window.onresize=function(){s(),u()};new Swiper(".rev__slider",{slidesPerView:"auto",centeredSlides:!0,loop:!0,speed:500,draggable:!0,spaceBetween:20,autoplay:{delay:5e3},navigation:{nextEl:".swiper-button-next.rev__button.rev__button_next",prevEl:".swiper-button-prev.rev__button.rev__button_prev"},breakpoints:{767:{slidesPerView:5,centeredSlides:!1}}});var c,d=_createForOfIteratorHelper(document.forms);try{for(d.s();!(c=d.n()).done;)!function(){var e,t=c.value,n=t.querySelector('[name="userPhone"]');n&&(e=t.querySelector('[type="submit"]'),new Inputmask("+7 (\\999) 999-99-99").mask(n),n.oninput=function(){$(n).inputmask("isComplete")?e.removeAttribute("disabled"):e.disabled=!0})}()}catch(e){d.e(e)}finally{d.f()}};